AR(1)                                                       AR(1)

NAME
     ar - Maintains archive and library for portable archives

SYNOPSIS
     ar abcdilmpqrstuvx[posname] afile files

DESCRIPTION
   Purpose
     The ar command maintains groups of files combined into a
     single archive file.  Its main use is to create and update
     library files as used by the link editor.  It can be used,
     though, for any similar purpose.

   Arguments
     The archive file is afile.  The files are constituent files
     in the archive file.  The posname argument is a file name
     that specifies a position.  Certain options move the
     specified files relative to the file specified by posname.

   Options
     An option is one character from the set dmpqrtx, optionally
     concatenated with one or more of abciluvs.  The options are
     described below.

     c        Create.  Normally ar creates afile when it needs
              to.  The create option suppresses the normal
              message that is produced when afile is created.

     d        Delete the named files from the archive file.

     l        Local.  Causes temporary files to be placed in the
              local directory rather than the directory /tmp.

     m        Moves the named files to the end of the archive.
              If a positioning character is present, the posname
              argument must be present, and, as in r, it
              specifies where the files are to be moved.

     p        Prints the named files in the archive.

     q        Quickly appends the named files to the end of the
              archive file.  Optional positioning characters are
              invalid.  The command does not check whether the
              added members are already in the archive and is
              useful only to avoid quadratic behavior when
              creating a large archive piece by piece.

     r(uabi)  Replaces the named files in the archive file.  If
              the optional character u is used with r, only those
              files with modified dates later than the archive
              files are replaced.  If an optional positioning
              character from the set abi is used, the posname
              argument must be present, and it specifies that new
              files are to be placed after (a) or before (b or i)
              posname.  Otherwise new files are placed at the
              end.

     s        Creates a symbol table, forcing the regeneration of
              the archive symbol table even if ar(1) is not
              invoked with a command that modifies the archive
              contents.  This command is useful to restore the
              archive symbol table after the strip(1) command has
              been used on the archive.

     t        Prints a table of contents of the archive file.  If
              no file names are given, all files in the archive
              are included in the table of contents.

     v        Verbose.  Gives a verbose file-by-file description
              of the making of a new archive file from the old
              archive and the constituent files.  When used with
              t, it gives a long listing of all information about
              the files.  When used with x, it precedes each file
              with a name.  If files names are given, only those
              files are tabled.

     x        Extracts the named files.  If no names are given,
              all files in the archive are extracted.  In neither
              case does x alter the archive file.

   Discussion
     When ar creates an archive, it creates headers in a format
     that is portable across all machines.  The portable archive
     format and structure is described in detail in ar(4).  The
     archive symbol table described in ar(4) is used by the link
     editor ld(1) to effect multiple passes over libraries of
     object files in an efficient manner.  Whenever the ar(1)
     command is used to create or update the contents of an
     archive, the symbol table is rebuilt.  The symbol table can
     be forced to be rebuilt by the s option.

EXAMPLE
     The following example quickly (using the q option) appends
     files a, b, and c to the archive named xmpl.

          ar q xmpl a b c

     The next example prints a table of contents for the archive
     xmpl.

          ar t xmpl

     The next example prints a verbose table of contents.

          ar tv xmpl

     The following is the output of the previous example:

          rw-rw-r-- 300/ 0   89     Apr   7  09:07  1986  a
          rw-rw-r-- 300/ 0   89     Apr   7  09:07  1986  b
          rw-rw-r-- 300/ 0   89     Apr   7  09:07  1986  c

     The last example prints a verbose table of contents of files
     a and c.  The command output is shown after the command
     line.

          ar tv xmpl a c

          rw-rw-r-- 300/ 0   89     Apr   7  09:07  1986  a
          rw-rw-r-- 300/ 0   89     Apr   7  09:07  1986  c

PROMPTS
   Input File Name(s):
     Enter the name of the file or files to archive.

   Archive File Name:
     Enter the name of the archive file to be modified.

   Delete Files:
     The initial value is no.  Enter yes to delete the named
     files.

   Move Files to End:
     The initial value is no.  Enter yes to move the named files
     to the end of the archive.  The following four prompts are
     displayed only if you enter y or yes.

   Print Named Files:
     The initial value is no.  Enter yes to print the named file
     or files.

   Quickly Append to End of Archive:
     The initial value is no.  Enter yes to append the named file
     to the end of the archive.  Any positioning file name is
     ignored.

   Replace Named Files:
     The initial value is no.  Enter yes to replace the named
     files.  The next four prompts appear only if you enter yes.

   Print Table of Contents:
     The initial value is no.  Enter yes to print a table of
     contents of the archive file.

   Extract Named Files:
     The initial value is no.  If you enter yes, the archive file
     is not altered.

   Create a File:
     The initial value is no.  Enter yes to create an archive
     file without displaying the usual message.

   Local Temporary File:
     The initial value is no.  Enter yes to place the temporary
     file in the

   Create a Symbol Table:
     The initial value is no.  Enter yes to force the
     regeneration of the archive symbol table.

   Verbose Listing:
     The initial value is no.  Enter yes for a file-by-file
     description of the making of the new archive from the old
     archive and the constituent files.

     The following prompts are used in positioning archive files
     in a specific location on the archive list.

   Positioning Name:
     Enter the name of the file that indicates the relative
     position for moving the specified replacement file.

   Replace by Dates:
     The initial value is no.  Enter yes to replace only those
     files with modified dates later than the archive files.

   Replace Before:
     The initial value is no.  Enter yes to position the new
     files before the file specified in the Positioning Name:
     prompt.

   Replace After:
     The initial value is no. Enter yes to position the new files
     after the file specified in the Positioning Name: prompt.

FILES
     /tmp/ar*       Temporary files

SEE ALSO
     a.out(4), ar(4), ld(1), lorder(1).

NOTES
     If the same file is mentioned twice in an argument list, it
     may be put in the archive twice.


