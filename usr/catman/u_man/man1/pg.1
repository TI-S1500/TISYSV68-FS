PG(1)							    PG(1)

NAME
     pg - Invokes the file perusal filter for VDTs

SYNOPSIS
     pg - number -cefnps + linenumber + /pattern/ files

DESCRIPTION
   Purpose
     The pg command is a filter that allows the examination of
     files one screenful at a time on a soft-copy terminal.  The
     file name - or no file names indicate that pg should read
     from the standard input.  The user may want to select one of
     the options and still view standard input.  Each screen is
     followed by a prompt.  If the user presses RETURN, another
     page is displayed.  Other possibilities are enumerated
     below.

     In order to determine terminal attributes, pg scans the
     terminfo(4) data base for the terminal type specified by the
     environment variable TERM.  If TERM is not defined, the
     terminal type dumb is used.

   Options
     -number
	  Specifies size (in lines) of the window that pg is to
	  use instead of the default.  (On a terminal containing
	  24 lines, the default window size is 23).

     -p string
	  Causes pg to use string as the prompt.  If the prompt
	  string contains a %d, the first occurrence of %d in the
	  prompt will be replaced by the current page number when
	  the prompt is issued.  The default prompt string is :.

     -c   Sends home the cursor and clear the screen before
	  displaying each page.  This option is ignored if
	  clear_screen is not defined for this terminal type in
	  the terminfo(7) data base.

     -e   Causes pg not to pause at the end of each file.

     -f   Inhibits pg from splitting lines.  (Normally, pg splits
	  lines longer than the screen width, but some sequences
	  of characters in the text being displayed e.g., escape
	  sequences for underlining, generate undesirable
	  results.)

     -n   Causes an automatic end of command as soon as a command
	  letter is entered.  (Normally, commands must be
	  terminated by a newline character.)

     -s   Causes pg to print all messages and prompts in stand-
	  out mode (usually inverse video).

     +linenumber
	  Starts up at linenumber and applies only to the first
	  file.  Other files always start at line 1.

     +/pattern/
	  Starts up at the first line containing the regular
	  expression pattern and applies only to the first file.
	  Other files always start at line 1.

   User Responses
     The responses that can be typed when pg pauses can be
     divided into three categories: those causing further
     perusal, those that search, and those that modify the
     perusal environment.

     Commands that cause further perusal normally take a
     preceding address, an optionally signed number indicating
     the point from which further text should be displayed.  This
     address is interpreted in either pages or lines depending on
     the command.  A signed address specifies a point relative to
     the current page or line, and an unsigned address specifies
     an address relative to the beginning of the file.	Each
     command has a default address that is used if none is
     provided.

     The default address of the following perusal commands is +1:

     (+/-n)< newline > or < blank >
	  Causes n number of page to be displayed.  The address
	  is specified in pages.

     (+/-n)l
	  With a relative address, causes pg to simulate
	  scrolling the screen, forward or backward, n number of
	  lines.  With an absolute address this command prints a
	  screen beginning at the specified line.

     d or CTRL-D
	  Simulates scrolling half a screen forward or backward.

     The following perusal commands take no address.

     . or CTRL-L
	  Typing a single period causes the current page of text
	  to be redisplayed.

     $	  Displays the last window in the file.  Use with caution
	  when the input is a pipe.

     The following commands are available for searching for text
     patterns in the text.  The regular expressions described in
     ed(1) are available.  They must always be terminated by a
     newline, even if the -n option is specified.  The i value
     must be positive.	This value will not turn a forward search
     into a backward search.

     i/pattern/
	  Searches forward for the ith (default i=1) occurrence
	  of pattern.  Searching begins immediately after the
	  current page and continues to the end of the current
	  file, without wrap-around.

     i^pattern^ or i?pattern?
	  Searches backwards for the ith (default i=1) occurrence
	  of pattern.  Searching begins immediately before the
	  current page and continues to the beginning of the
	  current file, without wraparound.

     If no pattern is entered, the previous pattern is used.
     After searching, pg will normally display the line found at
     the top of the screen.  This can be modified by appending m
     or b to the search command to leave the line found in the
     middle or at the bottom of the window from now on.  The
     suffix t can be used to restore the original situation.

     The user of pg can modify the environment of perusal with
     the following commands:

     in   Begins perusing the ith next file in the command line.
	  The i is an unsigned number, default value is 1.

     ip   Begins perusing the ith previous file in the command
	  line; i is an unsigned number, default is 1.

     iw   Displays another window of text.  If i is present, set
	  the window size to i.

     s filename
	  Saves the input in the named file.  Only the current
	  file being perused is saved.	The white space between
	  the s and filename is optional.  This command must
	  always be terminated by a newline, even if the -n
	  option is specified.

     h	  Helps by displaying an abbreviated summary of available
	  commands.

     q or Q
	  Quits pg.

     !command
	  Command is passed to the shell, whose name is taken
	  from the SHELL environment variable.	If this is not
	  available, the default shell is used.  This command
	  must always be terminated by a newline, even if the -n
	  option is specified.

PROMPTS
   File Name(s):
     Enter the name of the file to display.

EXAMPLE
     The following example uses pg to read system news:

	  news | pg -p "(Page %d):"

NOTES
     While waiting for terminal input, pg responds to BREAK, DEL,
     and ^ by terminating execution.  Between prompts these
     signals interrupt pg's current task and terminate execution.
     These should be used with caution when input is being read
     from a pipe, since an interrupt is likely to terminate the
     other commands in the pipeline.

     Users of Berkeley's more will find that the z and f commands
     are available, and that the final /, ^, or ? can be omitted
     from the searching commands.

     If terminal tabs are not set every eight positions,
     undesirable results may occur.

     When using pg as a filter with another command that changes
     the terminal I/O options (e.g., crypt(1)), terminal settings
     might not be restored correctly.

     At any time when output is being sent to the terminal, the
     user can press the quit key (normally CTRL-\) or the
     interrupt (break) key.  This causes pg to stop sending
     output, and display the prompt.  The user can then enter one
     of the above commands in the normal manner.  Unfortunately,
     some output is lost when this is done due to the fact that
     any characters waiting in the terminal's output queue are
     flushed when the quit signal occurs.

     If the standard output is not a terminal, then pg acts just
     like cat(1) except that a header is printed before each file
     (if there is more than one).

FILES
     /usr/lib/terminfo/*  Terminal information data base
     /tmp/pg*		  Temporary file when input is from a pipe

SEE ALSO
     crypt(1), ed(1), grep(1), more(1), show(1T), terminfo(7).


