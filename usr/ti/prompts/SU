# cshf  su -- become a super-user or another user 
#	@(#)SU.sh	1.2  88/03/24
#
onintr end
set quote = '"'

prompt "^SU -- CHANGES USER IDENTITY TO SUPER-USER OR ANOTHER USER"\
	"^User's Name:" name string root\
	"^Change Environment:" flag yesno n\
	"^*Command and Arguments:" cmds string "$cmds"\
	"^#$*"

if ($abort) goto end
if ($flag == "y") set opt = -
if ("$cmds" != "") set copt = -c

echo === SU COMMAND EXECUTING === 
if ($cmds != "") then
	echo su $opt $name $copt $quote"$cmds"$quote
	su $opt $name $copt "$cmds"
else
	echo su $opt $name
	su $opt $name
endif

end:
unset name flag cmds opt copt quote
